---
layout: post
title: "天地图(1)"
date: 2017-04-24 
description: "天地图(1)"
tag: asp.net 
---   

# 20170424

## 天地图

### 思考

- 1.思考如何在地图上添加覆盖物。
- 2.先从数据库读书经纬度数据布置在地图上。
    + js调用数据库不安全。
- 3.点击覆盖物的触发机制（关联站点信息。）

### 天地图范例

- [天地图7专题](http://blog.csdn.net/liusaint1992/article/category/5854891)

#### 添加经纬度坐标

暂时啃不下来，js内容太过于复杂了。

- [天地图专题二：在天地图上循环显示标注点以及悬停显示信息窗口](http://blog.csdn.net/liusaint1992/article/details/48894855)

### ajax:实现对数据库站点经纬度的调用

暂未深究。

## C#和Javascript交互

在asp.net开发中，经常会用到后台和前台的交互，就此总结了一点c#和javascript相互操作的方法。

### 在后台c#代码中调用jacascript的方法

- javascript代码：

```
<script type="text/javascript" language="javascript">
    function test() {
        alert("oec2003");
        return false;
    }
</script>
```

- C#代码：

```
protected void Button1_Click(object sender, EventArgs e)
{
    ClientScript.RegisterStartupScript(this.GetType(), "clear", "<script>test()</script>");
}
```

### javascript中调用c#方法

如果c#中的方法有返回值，可以用下面方法

- C#代码

```
public string GetAuthStatus()
{
   ViewState["Auth"] = "Red";
   return ViewState["Auth"].ToString();
}
```

- javascript代码

```
<script type="text/javascript" language="javascript">
    function getAuth() {
        var authStatus = "<%=GetAuthStatus()%>";
        return authStatus;
    }
</script>
```

如果在javascript调用的c#方法没有返回值，可以在一面中放一个button，然后在button的单击事件中去写想做的事情，在客户端的脚本中写下如下代码就可以了:

```
    document.all("button1").click();
```

### w3school 在线教程之javascript学习记录


- [JavaScript Tutorial](https://www.w3schools.com/js/)

- 学习心得
    +  代码行不超过80个字符。
    +  var x = 16 + 4 + "Volvo"和var x = "Volvo" + 16 + 4，结果不同，因为是从左到右计算的。
- 


## iframe的使用

如何使用iframe将分支界面嵌入到主界面中，且仅是将其缩小比例尺放入？

```
<iframe id="mainFrame" name="mainFrame" runat="server" frameborder="0" scrolling="no" style="width:100%;height:50%;" src="/chap1.aspx"></iframe>  
```

iframe大小改变可以，但里面引用的外域的页面里面的flash是没办法对其进行操作。

```
<iframe src="http://www.mlwl.cc" style="zoom:50%" width="1024" height="768"></iframe>

```
