---
layout: post
title: "连接远程数据库代码"
date: 2017-04-04 
description: "连接远程数据库代码"
tag: 博客 
---   

````

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Data;
using System.Data.SqlClient;

namespace 连接远程数据库
{
    class Program
    {
        static void Main(string[] args)
        {
            
            
            
            try
            {
                string ConnectionString = "server=xx.xx.xx.xx;Uid=xx;pwd=xx;database=xx;";
                SqlConnection myConnection = new SqlConnection(ConnectionString);
                myConnection.Open();
                string CommandText = "SELECT * FROM tablename";
                SqlCommand cmd = new SqlCommand(CommandText, myConnection);
                //SqlDataAdapter da = new SqlDataAdapter(CommandText, myConnection);
                //DataSet ds = new DataSet();//加查询结果存放到数据集中。
                //da.Fill(ds);
                SqlDataReader reader = cmd.ExecuteReader(CommandBehavior.CloseConnection);//存储在一个SqlDataReader对象中，执行关闭连接，该数据是只读的
                while (reader.Read())
                {
                    Console.Write("连接成功:{0}", reader[1].ToString());
                    Console.Read();
                }
                myConnection.Close();
                //reader.Close();
            }
            catch(Exception e)
            {
                Console.WriteLine("无法连接数据库\n"+e.ToString());
                Console.Read();
            }
        }
    }
}
``````